{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Mejia\\\\Documents\\\\Clases_Bitlab\\\\React_clases\\\\tienda\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\Users\\\\Mejia\\\\Documents\\\\Clases_Bitlab\\\\React_clases\\\\tienda\\\\src\\\\App.js\";\nimport React, { Component } from 'react'; //mport logo from './logo.svg';\n//import './App.css';\n\nimport Nav from './components/Nav'; //import Product from './components/Product';\n\nimport ProductList from './components/ProductList';\nconst initialProducts = [{\n  id: 1,\n  title: 'iPhone Xs',\n  inventory: 4,\n  price: 1200,\n  image: 'https://static.highsnobiety.com/thumbor/U0-rUWbybp-8s-Rqb8cAX6Xq2Qc=/fit-in/480x320/smart/static.highsnobiety.com/wp-content/uploads/2018/10/01101452/apple-iphone-xs-iphone-xs-max-01.jpg'\n}, {\n  id: 2,\n  title: 'Galaxy S9',\n  inventory: 5,\n  price: 999,\n  image: 'https://cdn.shopify.com/s/files/1/0218/3368/products/samsung-galaxy-s9_bfab1385-75ac-42e4-8623-c04b927ffc1c_480x.jpg?v=1542884607'\n}, {\n  id: 3,\n  title: 'Huawei Mate',\n  inventory: 2,\n  price: 900,\n  image: 'https://hips.hearstapps.com/digitalspyuk.cdnds.net/18/42/1539699691-huawei-mate-20-pro.jpg?resize=480:*'\n}, {\n  id: 4,\n  title: 'Google Pixel 3',\n  inventory: 3,\n  price: 950,\n  image: 'https://ascii.jp/elem/000/001/767/1767566/GPixel008_480x.jpg'\n}, {\n  id: 5,\n  title: 'Motorola G6',\n  inventory: 6,\n  price: 800,\n  image: 'https://www.rosarioplus.com/__export/1524155866209/sites/rosarioplus/img/2018/04/19/moto_e5_presentacion_brasil.jpg_557888218.jpg'\n}, {\n  id: 6,\n  title: 'Xiaomi Redmi Note 5',\n  inventory: 5,\n  price: 199,\n  image: 'https://cdn.computerhoy.com/sites/navi.axelspringer.es/public/styles/480/public/media/image/2019/04/xiaomi-redmi-note-5-pro.jpg?itok=GCDeV2Ht'\n}];\n\nconst formatNumber = number => new Intl.NumberFormat('en-US', {\n  minimumFractionDigits: 2,\n  maximumFractionDigits: 2\n})(number);\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      addedIds: [],\n      quantityById: {},\n      products: initialProducts\n    };\n\n    this.addToCart = id => {\n      const _this$state = this.state,\n            addedIds = _this$state.addedIds,\n            quantityById = _this$state.quantityById,\n            products = _this$state.products;\n      const product = products.find(prod => prod.id === id);\n      const available = product.inventory - (quantityById[id] || 0);\n\n      if (available > 0) {\n        const newAddedIds = addedIds.find(prodId => prodId === id) ? addedIds : addedIds.concat(product.id);\n\n        const newQuantityById = _objectSpread({}, quantityById, {\n          [id]: (quantityById[id] || 0) + 1\n        });\n\n        this.setState({\n          addedIds: newAddedIds,\n          quantityById: newQuantityById\n        });\n      }\n    };\n\n    this.removeFromCart = id => {\n      const _this$state2 = this.state,\n            addedIds = _this$state2.addedIds,\n            quantityById = _this$state2.quantityById;\n\n      if (quantityById[id]) {\n        const newQuantityById = _objectSpread({}, quantityById, {\n          [id]: quantityById[id] > 1 ? quantityById[id] - 1 : undefined\n        });\n\n        const newAddedIds = newQuantityById[id] ? addedIds : addedIds.filter(prodId => prodId !== id);\n        this.setState({\n          addedIds: newAddedIds,\n          quantityById: newQuantityById\n        });\n      }\n    };\n\n    this.deleteFromCart = id => {\n      const _this$state3 = this.state,\n            addedIds = _this$state3.addedIds,\n            quantityById = _this$state3.quantityById;\n\n      if (quantityById[id]) {\n        const newQuantityById = _objectSpread({}, quantityById, {\n          [id]: undefined\n        });\n\n        const newAddedIds = addedIds.filter(prodId => prodId !== id);\n        this.setState({\n          addedIds: newAddedIds,\n          quantityById: newQuantityById\n        });\n      }\n    };\n\n    this.getAvailable = (products, quantityById) => {\n      return products.reduce((res, product) => _objectSpread({}, res, {\n        [product.id]: product.inventory - (quantityById[product.id] || 0)\n      }), {});\n    };\n\n    this.getTotal = (products, addedIds, quantityById) => {\n      return addedIds.reduce((res, productId) => res + products.find(prod => prod.id === productId).price * (quantityById[productId] || 0), 0);\n    };\n  }\n\n  render() {\n    const _this$state4 = this.state,\n          products = _this$state4.products,\n          quantityById = _this$state4.quantityById,\n          addedIds = _this$state4.addedIds;\n    const available = this.getAvailable(products, quantityById);\n    const total = this.getTotal(products, addedIds, quantityById);\n    return React.createElement(\"fragment\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      total: total,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(ProductList, {\n      available: available,\n      products: initialProducts,\n      addToCart: this.addToCart,\n      removeFromCart: this.removeFromCart,\n      deleteFromCart: this.deleteFromCart,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:\\Users\\Mejia\\Documents\\Clases_Bitlab\\React_clases\\tienda\\src\\App.js"],"names":["React","Component","Nav","ProductList","initialProducts","id","title","inventory","price","image","formatNumber","number","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","App","state","addedIds","quantityById","products","addToCart","product","find","prod","available","newAddedIds","prodId","concat","newQuantityById","setState","removeFromCart","undefined","filter","deleteFromCart","getAvailable","reduce","res","getTotal","productId","render","total"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n//mport logo from './logo.svg';\n//import './App.css';\nimport Nav from './components/Nav';\n//import Product from './components/Product';\nimport ProductList from './components/ProductList';\n\nconst initialProducts = [\n  { id: 1, title: 'iPhone Xs', inventory: 4, price: 1200, image: 'https://static.highsnobiety.com/thumbor/U0-rUWbybp-8s-Rqb8cAX6Xq2Qc=/fit-in/480x320/smart/static.highsnobiety.com/wp-content/uploads/2018/10/01101452/apple-iphone-xs-iphone-xs-max-01.jpg' },\n  { id: 2, title: 'Galaxy S9', inventory: 5, price: 999, image: 'https://cdn.shopify.com/s/files/1/0218/3368/products/samsung-galaxy-s9_bfab1385-75ac-42e4-8623-c04b927ffc1c_480x.jpg?v=1542884607' },\n  { id: 3, title: 'Huawei Mate', inventory: 2, price: 900, image: 'https://hips.hearstapps.com/digitalspyuk.cdnds.net/18/42/1539699691-huawei-mate-20-pro.jpg?resize=480:*'},\n  { id: 4, title: 'Google Pixel 3', inventory: 3, price: 950, image: 'https://ascii.jp/elem/000/001/767/1767566/GPixel008_480x.jpg' },\n  { id: 5, title: 'Motorola G6', inventory: 6, price: 800, image: 'https://www.rosarioplus.com/__export/1524155866209/sites/rosarioplus/img/2018/04/19/moto_e5_presentacion_brasil.jpg_557888218.jpg' },\n  { id: 6, title: 'Xiaomi Redmi Note 5', inventory: 5, price: 199, image: 'https://cdn.computerhoy.com/sites/navi.axelspringer.es/public/styles/480/public/media/image/2019/04/xiaomi-redmi-note-5-pro.jpg?itok=GCDeV2Ht' }\n];\n\nconst formatNumber = (number) => new Intl.NumberFormat('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2})(number);\n\nclass App extends Component {\n  state = {\n    addedIds: [],\n    quantityById: {},\n    products: initialProducts,\n  };\n  addToCart = (id) =>{\n    const {addedIds, quantityById, products} = this.state;\n    const product = products.find(prod => prod.id === id);\n    const available = product.inventory - (quantityById[id] || 0); \n    if (available > 0){\n      const newAddedIds = addedIds.find(prodId => prodId === id) ? addedIds : addedIds.concat(product.id)\n      const newQuantityById = {\n        ...quantityById,\n        [id]: (quantityById[id] || 0) + 1,\n      };\n      this.setState({ addedIds: newAddedIds, quantityById: newQuantityById});\n    }\n  }\n  removeFromCart = (id) =>{\n    const {addedIds, quantityById} = this.state;\n    if(quantityById[id]){\n      const newQuantityById = {\n        ...quantityById,\n        [id]: quantityById[id] > 1 ? quantityById[id] - 1 : undefined,\n\n      };\n      const newAddedIds = newQuantityById[id] ? addedIds : addedIds.filter(prodId => prodId !== id);\n      this.setState({ addedIds: newAddedIds, quantityById: newQuantityById});\n    }\n  }\n  deleteFromCart = (id) => {\n    const {addedIds, quantityById} = this.state;\n    if(quantityById[id]){\n      const newQuantityById = {\n        ...quantityById,\n        [id]: undefined,\n      };\n      const newAddedIds = addedIds.filter(prodId => prodId !== id);\n      this.setState({ addedIds: newAddedIds, quantityById: newQuantityById});\n    }\n  }\n\n  getAvailable = (products, quantityById) => {\n    return products.reduce(\n      (res, product) => ({\n        ...res,\n        [product.id]: product.inventory - (quantityById[product.id] || 0),\n      }),\n      {}, \n    );\n  }\n  getTotal = (products, addedIds, quantityById) =>{\n    return addedIds.reduce(\n      (res, productId) => res + products.find(prod => prod.id === productId).price * (quantityById[productId] || 0),\n      0\n    );\n  }\n  render() {\n    const {products, quantityById, addedIds} = this.state;\n    const available = this.getAvailable(products, quantityById);\n    const total = this.getTotal(products, addedIds, quantityById);\n    return (\n     <fragment>\n      \n      <Nav total={total}/>\n      <ProductList \n        available = {available}\n        products = {initialProducts} \n        addToCart = {this.addToCart} \n        removeFromCart = {this.removeFromCart}\n        deleteFromCart = {this.deleteFromCart}\n        />\n     </fragment>\n      \n\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}